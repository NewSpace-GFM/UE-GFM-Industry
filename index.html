<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8">
    <title>Carte des entreprises européennes</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        #map {
            height: 100%;
            width: 100%;
        }
        #filter-box {
            position: absolute;
            top: 490px;
            left: 20px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            padding: 15px;
            width: 280px;
            max-height: 80vh;
            overflow-y: auto;
            z-index: 1000;
        }
        #filter-box h3 {
            margin-top: 0;
            margin-bottom: 10px;
            font-size: 18px;
            border-bottom: 1px solid #eee;
            padding-bottom: 5px;
        }
        .filter-group {
            margin-bottom: 15px;
        }
        .filter-group label {
            display: block;
            margin: 5px 0;
            font-size: 14px;
            color: #333;
        }
        .filter-group input[type="checkbox"] {
            margin-right: 6px;
        }
        #filter-box::-webkit-scrollbar {
            width: 6px;
        }
        #filter-box::-webkit-scrollbar-thumb {
            background-color: #ccc;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <div id="map"></div>

    <div id="filter-box">
        <h3>Filters</h3>

        <div class="filter-group" id="theme-filters">
            <strong>Topic</strong>
            <!-- Cases à cocher Thèmes -->
        </div>

        
	<div class="filter-group" id="country-filters">
            <strong>Country</strong>
            <!-- Cases à cocher Pays -->
        </div>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        // Tableau combiné des entreprises européennes
        const companies = [
            // Belgique
            {
                name: "Starion Group (SAFEPLACE)",
                activity: "Service that will provide prompt, up-to-date situational awareness information to crisis and disaster management organisations in Europe",
                city: "Wavre",
                country: "Belgium",
                lat: 50.7139,
                lon: 4.6136,
                web: "https://www.stariongroup.eu/starion-leads-development-of-safeplace-crisis-response-platform/",
                linkedin: "https://www.linkedin.com/company/stariongroup/about/",
		theme: "Flood Management"
            },
	   {
                name: "IMDC",
                activity: "Vast experience through water related studies such as flood risk assessment, hydraulic modelling, coastal protection, sedimentation risks, dredging engineering...",
                city: "Antwerp",
                country: "Belgium",
                lat: 51.219448,
                lon: 4.402464,
                web: "https://imdc.be/en/reference/fews-floodforecast",
                linkedin: "https://www.linkedin.com/company/imdc/",
		theme: "Flood Management"
            },
  	 {
                name: "HAEDES (Mira X)",
                activity: "Flood and drought (operational) forecasting & warning system/Hydrology & hydrogeology/Hazard, Vulnerability and Risk Assessment...",
                city: "Gent",
                country: "Belgium",
                lat: 51.053822,
                lon: 3.722270,
                web: "https://haedes.eu/climate-resilience-sustainable-water-systems/",
                linkedin: "https://www.linkedin.com/company/haedes-bv/about/",
		theme: "Flood Management"
            },
	    // Pays-Bas
            {
                name: "CDR International",
                activity: "Climate Change Vulnerability, Flood Risk and Urban Water Management, Ports and Waterways, Geosynthetics, Integrated Water Management, Resilience and Adaptation...",
                city: "Amersfoort",
                country: "Netherlands",
                lat: 52.156113,
                lon: 5.387827,
                web: "https://cdr-international.nl/disciplines/flood-risk-and-urban-water-management/",
                linkedin: "https://www.linkedin.com/company/cdr-international-b-v-/about/",
		theme: "Flood Management"
            },
	{
                name: "HKV (LIWO)",
                activity: "LIWO maps for the Dutch government include maximum flood depths, flood probabilities, evacuation ratings and information on zone classification and boundaries...",
                city: "Lelystad",
                country: "Netherlands",
                lat: 52.518536,
                lon: 5.471422,
                web: "https://www.hkv.nl/projecten/landelijk-informatiesysteem-water-en-overstromingen-liwo/",
                linkedin: "https://www.linkedin.com/company/hkv-lijn-in-water/about/",
		theme: "Flood Management"
            },
	{
                name: "HydroLogic (Pearl)",
                activity: "Digital technologies such as IoT, AI and Big Data are further developed, tested and used to create meaningful real-time predictions on water quantity and quality in the urban environment",
                city: "Amersfoort",
                country: "Netherlands",
                lat: 52.136113,
                lon: 5.387827,
                web: "https://www.hydrologic.com/projects/pearl/",
                linkedin: "https://www.linkedin.com/company/hydrologic/about/",
		theme: "Flood Management"
            },
	{
                name: "Deltares (Delft-FEWS)",
                activity: "Independent institute for applied research in the field of water, subsurface. Managing densely populated and vulnerable areas to climate change, flood risk",
                city: "Delft",
                country: "Netherlands",
                lat: 52.0114017,
                lon: 4.35839,
                web: "https://www.deltares.nl/en/expertise/areas-of-expertise/floods",
                linkedin: "https://www.linkedin.com/company/deltares/about/",
		theme: "Flood Management"
            },
	{
                name: "Arcadis (HydroNet)",
                activity: "Anticipating flood risks and their effects on populations.customers are able to consider asset management strategies and make effective investment decisions, whether they concern drought management, flood risk and warning management, surface water warning systems or emergency planning...",
                city: "Amsterdam",
                country: "Netherlands",
                lat: 52.3730796,
                lon: 4.8924534,
                web: "https://www.arcadis.com/fr-fr/numerique/produits-numeriques/hydronet",
                linkedin: "https://www.linkedin.com/company/arcadis/about/",
		theme: "Flood Management"
            },
	{
                name: "Witteveen+Bos",
                activity: "Development and elaboration a flood early warning system, consisting of a data information module, a hydrodynamic forecasting computer model and a communication system. Data analysis was carried out to generate the input for the hydrodynamic forecasting.",
                city: "Deventer",
                country: "Netherlands",
                lat: 52.2694896,
                lon: 6.2364886,
                web: "https://www.witteveenbos.com/projects/flood-early-warning-system",
                linkedin: "https://www.linkedin.com/company/witteveen-bos/about/",
		theme: "Flood Management"
            },
	{
                name: "Fugro",
                activity: "Expertise in mapping, modelling, and monitoring, combined with consultancy, to help you understand climate impact, adapt to climate impact, and track climate impact.",
                city: "Leidschendam",
                country: "Netherlands",
                lat: 52.0861654,
                lon: 4.3946774,
                web: "https://www.fugro.com/industries/water/climate",
                linkedin: "https://www.linkedin.com/company/fugro/about/",
		theme: "Flood Management"
            },
 	// Suède
            {
                name: "SWECO",
                activity: "Flood Risk Management Consultancy (hydrology, network and fluvial modelling, field survey, geomorphology, natural processes, ecology, design and economic assessments)",
                city: "Stockholm",
                country: "Sweden",
                lat: 59.329323,
                lon: 18.068581,
                web: "https://www.sweco.co.uk/services/water-energy-industry/water-consultancy/water-management/flood-protection/",
                linkedin: "https://www.linkedin.com/company/sweco/about/",
		theme: "Flood Management"
            },
	// Pologne
            {
                name: "Wody Polskie (Public administration)",
                activity: "Competencies of water resources management. Wody Polskie is responsible for protecting our country's residents from floods and droughts",
                city: "Warsaw",
                country: "Poland",
                lat: 52.2319581,
                lon: 21.0067249,
                web: "https://isok.gov.pl/hydroportal.html",
                linkedin: "https://www.linkedin.com/company/wody-polskie/about/",
		theme: "Flood Management"
            },
	{
                name: "Esri Polska (ArcGIS PRO / SARscape)",
                activity: "Radar image analysis (SAR) for flood mapping to enable customers to make strategic decisions more quickly and reduce costs through more efficient working.",
                city: "Warsaw",
                country: "Poland",
                lat: 52.1319581,
                lon: 21.0067249,
                web: "https://esri.pl/arcgis-excalibur/",
                linkedin: "https://www.linkedin.com/company/esri-polska/about/",
		theme: "Flood Management"
            },
	// Danemark
            {
                name: "DHI (Mike+ 2D Overland)",
                activity: "Flood modelling to predict the impacts of flood events, identify risks, and develop effective mitigation strategies.",
                city: "Hørsholm",
                country: "Denmark",
                lat: 55.8832986,
                lon: 12.5000112,
                web: "https://www.dhigroup.com/technologies/mikepoweredbydhi/mikeplus-2d-overland",
                linkedin: "https://www.linkedin.com/company/dhi/about/",
		theme: "Flood Management"
            },
	// Roumanie
            {
                name: "Inundatii (Public administration)",
                activity: "Romanian government floods management.",
                city: "Bucarest",
                country: "Romania",
                lat: 44.4361414,
                lon: 26.1027202,
                web: "https://inundatii.ro/en/flood-risk-management-2/",
                linkedin: "https://www.linkedin.com/company/inundatiiro/about/",
		theme: "Flood Management"
            },
            // France
            {
                name: "BRLI (WIMES)",
                activity: "Biodiversity Management and Sustainable Development, Water and Risks, Water Resources Management...",
                city: "Nîmes",
                country: "France",
                lat: 43.8367,
                lon: 4.3601,
                web: "https://brli.brl.fr/fr/wimes",
                linkedin: "https://www.linkedin.com/company/brl-ing-nierie/about/",
		theme: "Flood Management"
            },
            {
                name: "CS Group (FloodCare)",
                activity: "Software, Space applications, GEOINT, IMINT, Image Processing, Earth Observation...",
                city: "Toulouse",
                country: "France",
                lat: 43.5847,
                lon: 1.4442,
                web: "https://floodcare.eu/",
                linkedin: "https://www.linkedin.com/showcase/csgroup-space/about/",
		theme: "Flood Management"
            },
            {
                name: "EXAMO",
                activity: "Specialized in expertise and project management assistance of flood risks",
                city: "Paris",
                country: "France",
                lat: 48.8466,
                lon: 2.3522,
                web: "https://examo.fr/nos-activites/pca/",
                linkedin: "https://www.linkedin.com/company/examo/about/",
		theme: "Flood Management"
            },
            {
                name: "GEO4i (Géospace)",
                activity: "Imagery Intelligence, Geospatial Intelligence, Data Collection and Management, Imagery Provider, Imagery, GEOINT et IMINT",
                city: "Creil",
                country: "France",
                lat: 49.2310,
                lon: 2.4846,
                web: "http://geo4i.com/",
                linkedin: "https://www.linkedin.com/company/geo4i/about/",
		theme: "Flood Management"
            },
            {
                name: "HD Rain",
                activity: "FlashFlood, Forecast, Weather, DeepLearning et MaaS",
                city: "BONNEUIL-SUR-MARNE",
                country: "France",
                lat: 48.7704,
                lon: 2.4807,
                web: "https://www.hd-rain.com/",
                linkedin: "https://www.linkedin.com/company/hdrain/about/",
		theme: "Flood Management"
            },
            {
                name: "Kinéis",
                activity: "Spatial IoT connectivity/Continuous and reliable data collection/Sending alerts/Fast reaction to limit damage",
                city: "RAMONVILLE-SAINT-AGNE",
                country: "France",
                lat: 43.5412,
                lon: 1.4783,
                web: "https://www.kineis.com/",
                linkedin: "https://www.linkedin.com/company/kineis-argos/about/",
		theme: "Flood Management"
            },
            {
                name: "Magellium (SEED-FD)",
                activity: "Earth Observation, GIS, Mapping, Geo Intelligence...",
                city: "RAMONVILLE-SAINT-AGNE",
                country: "France",
                lat: 43.5312,
                lon: 1.4783,
                web: "https://www.magellium.com/projet/seed-fd/",
                linkedin: "https://www.linkedin.com/company/magellium/about/",
		theme: "Flood Management"
            },
            {
                name: "MidGard (SitGard)",
                activity: "MidGard aims to digitalize emergency services and crisis management through simplified access to and interpretation of data. The platform automatically stores, visualizes and analyzes territorial data and aerial imagery.",
                city: "Ajaccio",
                country: "France",
                lat: 41.9192,
                lon: 8.7386,
                web: "https://www.midgard-ai.com/",
                linkedin: "https://www.linkedin.com/company/midgard-ai/about/",
		theme: "Flood Management"
            },
            {
                name: "NUMERISK",
                activity: "Crisis management, Major hazard awareness, Innovation and Plan Communal de Sauvegarde",
                city: "La Rochelle",
                country: "France",
                lat: 46.1603,
                lon: -1.1511,
                web: "https://www.numerisk.fr/home",
                linkedin: "https://www.linkedin.com/company/numerisk/about/",
		theme: "Flood Management"
            },
            {
                name: "OgoXe",
                activity: "Flood Alert, Geohazards, Environmental Consulting, Numerical modeling, IoT, flood warning system, sensors et smart devices",
                city: "Toulouse",
                country: "France",
                lat: 43.5747,
                lon: 1.4442,
                web: "https://www.ogoxe.com/",
                linkedin: "https://www.linkedin.com/company/ogoxe/about/",
		theme: "Flood Management"
            },
            {
                name: "Prométhéé",
                activity: "Spatial, Newspace, IoT, satellites, Earth Intelligence et Space Sovereignty",
                city: "Aix-en-Provence",
                country: "France",
                lat: 43.5297,
                lon: 5.4474,
                web: "https://promethee.earth/catastrophes-naturelles/",
                linkedin: "https://www.linkedin.com/company/promethee-earthintelligence/about/",
		theme: "Flood Management"
            },
            {
                name: "TENEVIA",
                activity: "Video hydrometry (height, velocity, flow measurement), Hydrological modeling, Decision support solutions, Environmental monitoring, Flood forecasting, Flow simulation, Flood warning and Sensors",
                city: "Meylan",
                country: "France",
                lat: 45.2096,
                lon: 5.7904,
                web: "https://www.tenevia.com/fr/",
                linkedin: "https://www.linkedin.com/company/tenevia/about/",
		theme: "Flood Management"
            },
            {
                name: "Thales Alenia Space (Flooding Digital Twin)",
                activity: "Space technologies for Telecommunications, Earth Observation, Navigation, Exploration & Orbital Infrastructures",
                city: "Cannes",
                country: "France",
                lat: 43.5528,
                lon: 7.0174,
                web: "https://www.thalesaleniaspace.com/en",
                linkedin: "https://www.linkedin.com/company/thales-alenia-space/about/",
		theme: "Flood Management"
            },
            {
                name: "VorteX-io",
                activity: "Hydrology, flood prevention, innovation, water management and river monitoring",
                city: "Toulouse",
                country: "France",
                lat: 43.5547,
                lon: 1.4442,
                web: "https://www.vortex-io.fr/",
                linkedin: "https://www.linkedin.com/company/vortex-io/about/",
		theme: "Flood Management"
            },
            {
                name: "Celest.Science",
                activity: "AI, Climat science (hydrology)",
                city: "Paris",
                country: "France",
                lat: 48.8566,
                lon: 2.3522,
                web: "https://www.celest.science/use-case",
                linkedin: "https://www.linkedin.com/company/celestscience/about/",
		theme: "Flood Management"
            },
            {
                name: "Blue Water Intelligence",
                activity: "Hydrological forecasting on top of near real-time continental freshwater monitoring",
                city: "Toulouse",
                country: "France",
                lat: 43.6147,
                lon: 1.4442,
                web: "https://bwi.earth/",
                linkedin: "https://www.linkedin.com/company/blue-waterintelligence/about/",
		theme: "Flood Management"
            },
            {
                name: "HETWA (MEWISO Zoom)",
                activity: "Precise risk analysis/Customized recommendations/Adaptation and prevention/Enhanced CSR approach",
                city: "Toulouse",
                country: "France",
                lat: 43.6247,
                lon: 1.4442,
                web: "https://hetwa.org/mewiso-zoom/",
                linkedin: "https://www.linkedin.com/company/hetwa/about/",
		theme: "Flood Management"
            },
            // Italie
            {
                name: "SaferPlaces",
                activity: "AI-based Digital Twin Solution for Flood Risk Intelligence in Urban Areas",
                city: "Rimini",
                country: "Italy",
                lat: 44.0678,
                lon: 12.5695,
                web: "https://saferplaces.co/#our-technology",
                linkedin: "https://www.linkedin.com/company/saferplacesplatform/about/",
		theme: "Flood Management"
            },
            {
                name: "Griddit (Rebit Solution)",
                activity: "Earth Observation and Geospatial intelligence service – the REBIT solution – to tackle water, environmental and societal challenges with major focus on flood risk.",
                city: "Roma",
                country: "Italy",
                lat: 41.9028,
                lon: 12.4964,
                web: "https://griddit.space/the-rebit-solution/",
                linkedin: "https://www.linkedin.com/company/griddit/about/",
		theme: "Flood Management"
            },
            {
                name: "Latitudo 40",
                activity: "Earth observation, AI, geoinformation, urban analytics, infrastructure monitoring...",
                city: "Napoli",
                country: "Italy",
                lat: 40.8518,
                lon: 14.2681,
                web: "https://www.latitudo40.com/climate-resilience-in-cities",
                linkedin: "https://www.linkedin.com/company/latitudo-40/about/",
		theme: "Flood Management"
            },
            // Portugal
            {
                name: "GEOTERRA360 (Watersphere260)",
                activity: "Monitoring high rainfall events for flood prediction/Demarcation of flooding servitudes due to frequent inundation/Supporting hydro power and flood release decisions",
                city: "Evora",
                country: "Portugal",
                lat: 38.5711,
                lon: -7.9135,
                web: "https://www.watersphere360.com/",
                linkedin: "https://www.linkedin.com/company/geoterra360/about/",
		theme: "Flood Management"
            },
            {
                name: "GreenMetrics AI",
                activity: "Ultra-Early Flood Detection/Real-time Monitoring/Alerts in under 10 seconds",
                city: "Lisbon",
                country: "Portugal",
                lat: 38.7223,
                lon: -9.1393,
                web: "https://www.greenmetrics.ai/fr/city",
                linkedin: "https://www.linkedin.com/company/greenmetrics-ai/about/",
		theme: "Flood Management"
            },
		{
                name: "GEOSAT",
                activity: "Accurate, scientific-quality data through our 24/7 emergency service, down to 20 minutes from acquisition for satellite disaster management, to help make reliable decisions for impact mitigation and emergency response under time pressure.",
                city: "Matosinhos",
                country: "Portugal",
                lat: 41.1806814,
                lon: -8.6821998,
                web: "https://geosat.space/markets/emergency-and-disaster/",
                linkedin: "https://www.linkedin.com/company/globaleosatellites/about/",
		theme: "Flood Management"
            },
            // Espagne
            {
                name: "ARANTEC (SMARTY River)",
                activity: "Autonomous Meteorological Stations, Telecontrol and on-line monitoring of sensors, Flood monitoring, IoT, smart cities, environmental variables, WSN and wireless technology...",
                city: "Lleida",
                country: "Spain",
                lat: 41.6176,
                lon: 0.6200,
                web: "https://www.arantec.com/fr/smarty-river/",
                linkedin: "https://www.linkedin.com/company/arantec-engineering/about/",
		theme: "Flood Management"
            },
            {
                name: "GMV (Eoclima)",
                activity: "Impact of riverine flood events, ecosystem impact studies, calculates current river flood risk estimates for different return periods, and assesses river flood risk using future projections and RCP scenarios",
                city: "Madrid",
                country: "Spain",
                lat: 40.4168,
                lon: -3.7038,
                web: "https://www.gmv.com/en/products/space/eoclima",
                linkedin: "https://www.linkedin.com/company/gmv/about/",
		theme: "Flood Management"
            },
            {
                name: "IntelliAlert (Tecnalia)",
                activity: "Meteorological monitoring and forecasting: high-resolution monitoring and forecasting tools and technologies at local and regional level, for emergencies and communication.",
                city: "Derio",
                country: "Spain",
                lat: 43.3000,
                lon: -2.8833,
                web: "https://fastflooding.com/intellialert/",
                linkedin: "https://www.linkedin.com/company/intellialert/about/",
		theme: "Flood Management"
            },
            {
                name: "Lobelia Earth",
                activity: "Earth Observation data and climate projections for the assessment of vulnerabilities, risks and opportunities associated to climate scenarios for each particular case and region of interest. We work on monitoring, forecasting and planning, often from open and free data",
                city: "Barcelona",
                country: "Spain",
                lat: 41.3851,
                lon: 2.1734,
                web: "https://www.lobelia.earth/",
                linkedin: "https://www.linkedin.com/company/lobelia-earth/about/",
		theme: "Flood Management"
            },
            {
                name: "Mitiga Solutions (EarthScan)",
                activity: "Climate Intelligence, Climate Risk, Machine Learning, Artificial Intelligence, Weather Risks, Risk Simulations, Climate Adaptation...",
                city: "Barcelona",
                country: "Spain",
                lat: 41.3651,
                lon: 2.1734,
                web: "https://www.earth-scan.com/#platform",
                linkedin: "https://www.linkedin.com/company/earthscantm/about/",
		theme: "Flood Management"
            },
            {
                name: "Pulses",
                activity: "Risk evaluation/Impact assesment/Opportunitiues discovery/Sustainability compliance/Asset management",
                city: "Barcelona",
                country: "Spain",
                lat: 41.4051,
                lon: 2.1734,
                web: "https://earthpulse.ai/",
                linkedin: "https://www.linkedin.com/company/earthpulse-sl/about/",
		theme: "Flood Management"
            },
            {
                name: "Worldsensing",
                activity: "Industrial Internet, Business Process, Machine-to-Machine (M2M), Wireless Sensor Networks, Cloud Computing and Processing, Wireless Instrumentation and Dataloggers et Wireless Seismic Acquisition",
                city: "Barcelona",
                country: "Spain",
                lat: 41.3451,
                lon: 2.1734,
                web: "https://www.worldsensing.com/",
                linkedin: "https://www.linkedin.com/company/worldsensing/about/",
		theme: "Flood Management"
            },
             {
                name: "SATLANTIS",
                activity: "Fast and draft damage map during Natural Disaster enables fast crisis response",
                city: "Leioa",
                country: "Spain",
                lat: 43.3100,
                lon: -2.9500,
                web: "https://www.satlantis.com/aplications/other-applications/",
                linkedin: "https://www.linkedin.com/company/satlantis/about/",
		theme: "Flood Management"
            }
        ];

        // Prépare une liste de thèmes
        const themes = [
            "Flood Management",
            "SSA",
        ];

        const map = L.map('map').setView([48.5, 8], 5);

        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '© OpenStreetMap contributors'
        }).addTo(map);

        let markersLayer = L.layerGroup().addTo(map);

        function updateMarkers(selectedCountries, selectedThemes) {
            markersLayer.clearLayers();
            companies.forEach(company => {
                const matchesCountry = selectedCountries.length === 0 || selectedCountries.includes(company.country);
                const matchesTheme = selectedThemes.length === 0 || selectedThemes.some(theme => (company.theme || []).includes(theme));

                if (company.lat && company.lon && matchesCountry && matchesTheme) {
                    L.marker([company.lat, company.lon])
                        .addTo(markersLayer)
                        .bindPopup(
                            `<strong>${company.name}</strong><br>
                            <em>${company.city}, ${company.country}</em><br>
                            <small>${company.activity}</small><br>
                            ${company.web ? `<a href="${company.web}" target="_blank">Site web</a> | ` : ''}
                            ${company.linkedin ? `<a href="${company.linkedin}" target="_blank">LinkedIn</a>` : ''}`
                        );
                }
            });
        }

        // Création des filtres dynamiques
        const countries = [...new Set(companies.map(c => c.country))].sort();
        const countryFiltersDiv = document.getElementById('country-filters');

        countries.forEach(country => {
            const label = document.createElement('label');
            label.innerHTML = `<input type="checkbox" value="${country}" checked> ${country}`;
            countryFiltersDiv.appendChild(label);
        });

        const themeFiltersDiv = document.getElementById('theme-filters');

        themes.forEach(theme => {
            const label = document.createElement('label');
            label.innerHTML = `<input type="checkbox" value="${theme}" checked> ${theme}`;
            themeFiltersDiv.appendChild(label);
        });

        function getSelectedValues(containerId) {
            return Array.from(document.querySelectorAll(`#${containerId} input:checked`)).map(input => input.value);
        }

        document.getElementById('filter-box').addEventListener('change', () => {
            const selectedCountries = getSelectedValues('country-filters');
            const selectedThemes = getSelectedValues('theme-filters');
            updateMarkers(selectedCountries, selectedThemes);
        });

        updateMarkers(countries, themes);
    </script>
</body>
</html>
